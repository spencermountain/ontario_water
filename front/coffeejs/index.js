// Generated by CoffeeScript 1.8.0
var arr;

arr = ["./libs/jquery.js", "./libs/sugar.js", "./libs/oj.js", "./libs/easings.js", "./libs/dirty.js"];

head.js.apply(this, arr);

head(function() {
  var determine_video, render_audio, render_video;
  oj.useGlobally();
  render_video = function(name, size) {
    if (size == null) {
      size = 720;
    }
    name = "../assets/builds/" + name + size;
    return video({
      poster: "" + name + ".png",
      controls: false,
      autoplay: true,
      loop: false
    }, function() {
      source({
        src: "" + name + ".mp4",
        type: "video/mp4"
      });
      source({
        src: "" + name + ".webm",
        type: "video/webm"
      });
      return p(function() {
        return "video unsupported on your browser";
      });
    });
  };
  render_audio = function(name) {
    name = "../assets/builds/" + name;
    return audio({
      controls: false,
      autoplay: false,
      loop: false,
      preload: "none"
    }, function() {
      source({
        src: "" + name + ".mp3",
        type: "audio/mpeg"
      });
      return source({
        src: "" + name + ".ogg",
        type: "audio/ogg"
      });
    });
  };
  determine_video = function() {
    var s, s_width, sizes, w, _i, _len;
    w = window.innerWidth;
    console.log(w);
    sizes = [258, 480, 720];
    for (_i = 0, _len = sizes.length; _i < _len; _i++) {
      s = sizes[_i];
      s_width = parseInt(s * (16 / 9));
      if (w <= s_width) {
        return s;
      }
    }
    return sizes[sizes.length - 1];
  };
  return $("#main").oj(div(function() {
    var size;
    h2({
      style: "color:grey; font-size:28px; padding:0px; margin:0px;"
    }, function() {
      return "hi der!";
    });
    render_audio("dylanleslie_slow_jam");
    size = determine_video();
    console.log(size);
    return render_video("shakey_spring", size);
  }));
});

//# sourceMappingURL=index.js.map
